
// DO NOT EDIT THIS FILE!
// This file is generated by the Capacitor CLI.
// It contains all of the native plugins for Capacitor.
// It is used by the autolinking feature of Capacitor.
// Any changes to this file will be overwritten.

def capacitorProjectRoot = "../.."

allprojects {
  repositories {
    maven {
      // Capacitor Android
      url "$capacitorProjectRoot/node_modules/@capacitor/android/dist"
    }
    maven {
      // Community plugins
      url "https://repo.capawesome.com/repository/maven-public/"
    }
  }
}

def loadCapacitorPlugins(config) {
    def plugins = new HashMap<String, HashMap<String, String>>()
    def pluginList = new File("$capacitorProjectRoot/capacitor.plugins.json")
    if (pluginList.exists()) {
        def parsedPlugins = new groovy.json.JsonSlurper().parseText(pluginList.text)
        for (plugin in parsedPlugins) {
            def name = plugin.name
            def path = plugin.path
            def webPath = plugin.web.path
            if (path != null) {
                def pluginDir = new File(path)
                if (pluginDir.exists()) {
                    def packagePath = path.replaceAll("node_modules", "").replaceAll(name, "").replaceAll("\\\\", "/").replaceAll("/", ":").replaceAll("::", ":")
                    def implementation = "implementation '" + packagePath + name + "'"
                    def pluginImplementation = [name: name, implementation: implementation, folder: path]
                    plugins.put(name, pluginImplementation)
                }
            } else if (webPath != null) {
                def pluginDir = new File(webPath)
                 if (pluginDir.exists()) {
                    def packagePath = webPath.replaceAll("node_modules", "").replaceAll(name, "").replaceAll("\\\\", "/").replaceAll("/", ":").replaceAll("::", ":")
                    def implementation = "implementation '" + packagePath + name + "'"
                    def webImplementation = [name: name, implementation: implementation, folder: webPath]
                    plugins.put(name, webImplementation)
                }
            }
        }
    }
    return plugins;
}


ext {
  capacitorPlugins = loadCapacitorPlugins(project)
}

dependencies {
    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.2.0'
    implementation "androidx.core:core-splashscreen:1.0.1"

    for (plugin in ext.capacitorPlugins.values()) {
        def implementation = plugin.get("implementation")
        if (implementation != null) {
            evaluate(implementation)
        }
    }
}
